
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Frequenz repository setup tools and common configuration">
      
      
        <meta name="author" content="Frequenz Energy-as-a-Service GmbH">
      
      
      
      
        <link rel="next" href="reference/frequenz/repo/config/">
      
      <link rel="icon" href="logo.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>Frequenz Repository Configuration</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="css/style.css">
    
      <link rel="stylesheet" href="css/mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#frequenz-repository-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest (stable) version.
  <a href="../.">
    <strong>Click here to go to latest (stable) version</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Frequenz Repository Configuration" class="md-header__button md-logo" aria-label="Frequenz Repository Configuration" data-md-component="logo">
      
  <img src="logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Frequenz Repository Configuration
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/frequenz-floss/frequenz-repo-config-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    frequenz-repo-config-python
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="." class="md-tabs__link md-tabs__link--active">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="reference/frequenz/repo/config/" class="md-tabs__link">
        API Reference
      </a>
    </li>
  

  

  

      
        
  
  


  <li class="md-tabs__item">
    <a href="CONTRIBUTING/" class="md-tabs__link">
      Contributing
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Frequenz Repository Configuration" class="md-nav__button md-logo" aria-label="Frequenz Repository Configuration" data-md-component="logo">
      
  <img src="logo.png" alt="logo">

    </a>
    Frequenz Repository Configuration
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/frequenz-floss/frequenz-repo-config-python" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    frequenz-repo-config-python
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-a-new-project" class="md-nav__link">
    Start a new project
  </a>
  
    <nav class="md-nav" aria-label="Start a new project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-variables-reference" class="md-nav__link">
    Template variables reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-the-local-development-environment" class="md-nav__link">
    Create the local development environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-new-repository-is-healthy-using-nox" class="md-nav__link">
    Verify the new repository is healthy using nox
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-release-notes-check-github-workflow" class="md-nav__link">
    Configure the release notes check GitHub workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-generated-documentation-works" class="md-nav__link">
    Verify the generated documentation works
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-the-github-pages-website" class="md-nav__link">
    Initialize the GitHub Pages website
  </a>
  
    <nav class="md-nav" aria-label="Initialize the GitHub Pages website">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#website-versions-using-mike" class="md-nav__link">
    Website versions using Mike
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-generation-of-pages-via-github-actions" class="md-nav__link">
    Auto-generation of pages via GitHub Actions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrate-an-existing-project" class="md-nav__link">
    Migrate an existing project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-an-existing-project" class="md-nav__link">
    Update an existing project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          frequenz
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          frequenz
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
          repo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          repo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_1" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/frequenz/repo/config/">config</a>
          
            <label for="__nav_2_1_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1_1">
          <span class="md-nav__icon md-icon"></span>
          config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/mkdocs/" class="md-nav__link">
        mkdocs
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_1_2" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/frequenz/repo/config/nox/">nox</a>
          
            <label for="__nav_2_1_1_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_1_1_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1_1_2">
          <span class="md-nav__icon md-icon"></span>
          nox
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/nox/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/nox/default/" class="md-nav__link">
        default
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/nox/session/" class="md-nav__link">
        session
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/nox/util/" class="md-nav__link">
        util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/protobuf/" class="md-nav__link">
        protobuf
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_1_4" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/frequenz/repo/config/pytest/">pytest</a>
          
            <label for="__nav_2_1_1_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_1_1_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1_1_4">
          <span class="md-nav__icon md-icon"></span>
          pytest
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/pytest/examples/" class="md-nav__link">
        examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_1_5" >
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="reference/frequenz/repo/config/setuptools/">setuptools</a>
          
            <label for="__nav_2_1_1_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_1_1_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1_1_5">
          <span class="md-nav__icon md-icon"></span>
          setuptools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reference/frequenz/repo/config/setuptools/grpc_tools/" class="md-nav__link">
        grpc_tools
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="CONTRIBUTING/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-a-new-project" class="md-nav__link">
    Start a new project
  </a>
  
    <nav class="md-nav" aria-label="Start a new project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template-variables-reference" class="md-nav__link">
    Template variables reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-the-local-development-environment" class="md-nav__link">
    Create the local development environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-new-repository-is-healthy-using-nox" class="md-nav__link">
    Verify the new repository is healthy using nox
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-release-notes-check-github-workflow" class="md-nav__link">
    Configure the release notes check GitHub workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-the-generated-documentation-works" class="md-nav__link">
    Verify the generated documentation works
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-the-github-pages-website" class="md-nav__link">
    Initialize the GitHub Pages website
  </a>
  
    <nav class="md-nav" aria-label="Initialize the GitHub Pages website">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#website-versions-using-mike" class="md-nav__link">
    Website versions using Mike
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-generation-of-pages-via-github-actions" class="md-nav__link">
    Auto-generation of pages via GitHub Actions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrate-an-existing-project" class="md-nav__link">
    Migrate an existing project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-an-existing-project" class="md-nav__link">
    Update an existing project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-usage" class="md-nav__link">
    Advanced usage
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="frequenz-repository-configuration">Frequenz Repository Configuration<a class="headerlink" href="#frequenz-repository-configuration" title="Permanent link">¤</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¤</a></h2>
<p>This is a highly opinionated set of tools and configurations to set up a Python
repository for <a href="https://frequenz.com">Frequenz</a> projects.</p>
<p>It offers:</p>
<ul>
<li><a href="https://cookiecutter.readthedocs.io/en/stable">Cookiecutter</a> templates for scaffolding new projects</li>
<li>Trivial build of <code>noxfile.py</code> with some predefined sessions that include all
  common checks.</li>
<li>Tools to build protobuf/grpc files as Python, including type information.</li>
</ul>
<h2 id="start-a-new-project">Start a new project<a class="headerlink" href="#start-a-new-project" title="Permanent link">¤</a></h2>
<p>To start a new project, you should first <a href="https://cookiecutter.readthedocs.io/en/stable/installation.html">install
Cookiecutter</a>.
It is normally available in any Linux distribution, but some have a very old
version (for example, Ubuntu/Debian). You can <a href="https://repology.org/project/cookiecutter/versions">check which version your distro
has on Repology</a>. You need
<strong>at least version 2.1.0</strong>. To ensure you get an up-to-date version, you can
always use <code>pip</code> and install it in a <code>venv</code>:</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>cookiecutter
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>cookiecutter
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="gp">$ </span>.<span class="w"> </span>bin/activate
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="gp">[cookiecutter] $ </span>pip<span class="w"> </span>install<span class="w"> </span>cookiecutter
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="go">Collecting cookiecutter</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">...</span>
</span></code></pre></div>
<p>Then simply run <a href="https://cookiecutter.readthedocs.io/en/stable">Cookiecutter</a> where you want to create the new project:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cookiecutter<span class="w"> </span>gh:frequenz-floss/frequenz-repo-config-python<span class="w"> </span><span class="se">\</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span>--directory<span class="o">=</span>cookiecutter<span class="w"> </span>--checkout<span class="w"> </span>v0.5.1
</span></code></pre></div>
<p>This command will prompt you for the project type, name, and other
configuration options, and it will generate the entire project for you in a new
subdirectory.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This command needs to be typed literally!</p>
<p><code>frequenz-floss/frequenz-repo-config-python</code> is the GitHub repository with
the cookiecutter template that will be downloaded, and
<code>--directory=cookiecutter</code> is needed because the cookiecutter template
doesn't live at the top-level of that repository, but in a subdirectory
called <code>cookiecutter</code>. The <code>--checkout</code> option is provided to use
a template from a released version, otherwise the default (development)
branch will be used.</p>
<p>All information about your project will be prompted interactively by that
command.</p>
</div>
<p>After completing the project and fixing the <code>TODO</code>s, you can either amend the
previous commit using <code>git commit --amend</code> or create a new commit for the
changes using <code>git commit</code>.</p>
<h3 id="template-variables-reference">Template variables reference<a class="headerlink" href="#template-variables-reference" title="Permanent link">¤</a></h3>
<ul>
<li>
<p><code>type</code>: The type of repository. It must be chosen from the list.</p>
</li>
<li>
<p><code>name</code>: The name of the project. This will be used to build defaults for
  other inputs, such as <code>title</code>, <code>python_package</code>, etc. It should be one word,
  using only alphanumeric characters (and starting with a letter). It can
  include also <code>_</code> and <code>-</code> which will be handled differently when building
  other variables from it (replaced by spaces in titles for example).</p>
</li>
<li>
<p><code>description</code>: A short description of the project. It will be used as the
  description in the <code>README.md</code>, <code>pyproject.toml</code>, <code>mkdocs.yml</code>, etc.</p>
</li>
<li>
<p><code>title</code>: A human-readable name or title for the project. It will be used in
  the <code>README.md</code>, <code>CONTRIBUTING.md</code>, and other files to refer to the project,
  as well as the site title in <code>mkdocs.yml</code>.</p>
</li>
<li>
<p><code>keywords</code>: A comma-separated list of keywords that will be used in the
  <code>pyproject.toml</code> file. If left untouched, it will use only some predefined
  keywords. If anything else is entered, it will be <strong>added</strong> to the default
  keywords.</p>
</li>
<li>
<p><code>github_org</code>: The GitHub handle of the organization where the project will
  reside. This will be used to generate links to the project on GitHub.</p>
</li>
<li>
<p><code>license</code>: Currently, only two options are provided: <code>MIT</code>, which should be
  used for open-source projects, and <code>Proprietary</code>, which should be used for
  closed-source projects. This will be added to file headers and used as the
  license in <code>pyproject.toml</code>.</p>
</li>
<li>
<p><code>author_name</code>, <code>author_email</code>: The name and email address of the author of
  the project. They will be used in the copyright notice in file headers and
  as the author in <code>pyproject.toml</code>.</p>
</li>
<li>
<p><code>python_package</code>: The Python package in which this project will reside. All
  files provided by this project should be located in this package. This needs
  to be a list of valid Python identifiers separated by dots. The source file
  structure will be derived from this. For example, <code>frequenz.actor.example</code>
  will generate files in <code>src/frequenz/actor/example</code>.</p>
</li>
<li>
<p><code>pypi_package_name</code>: The name of the PyPI/wheel/distribution package. This
  should be consistent with the <code>python_package</code>, usually replacing <code>.</code> with
  <code>-</code>. For example, <code>frequenz-actor-example</code>.</p>
</li>
<li>
<p><code>github_repo_name</code>: The handle of the GitHub repository where the project
  will reside. This will be used to generate links to the project on GitHub and
  as the top-level directory name.</p>
</li>
<li>
<p><code>default_codeowners</code>: A space-separated list of GitHub teams (<code>@org/team</code>) or
  users (<code>@user</code>) that will be the default code owners for this project. This
  will be used to build the <code>CODEOWNERS</code> file. Please refer to the <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners">code owners
  documentation</a> for more details on the valid syntax.</p>
</li>
</ul>
<h3 id="create-the-local-development-environment">Create the local development environment<a class="headerlink" href="#create-the-local-development-environment" title="Permanent link">¤</a></h3>
<p>To start development, you need to make sure your environment is correctly set
up. One way to do this is by using a virtual environment and installing all the
dependencies there:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># requires at least Python version 3.11</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>.<span class="w"> </span>.venv/bin/activate
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>dev<span class="o">]</span>
</span></code></pre></div>
<p>This will install your package in <a href="https://setuptools.pypa.io/en/latest/userguide/development_mode.html"><em>editable</em>
mode</a>, so
you can open a Python interpreter and import your package modules, picking up
any local changes without the need to reinstall. Now you can run tools
directly, like <code>pytest</code>.</p>
<h3 id="verify-the-new-repository-is-healthy-using-nox">Verify the new repository is healthy using <code>nox</code><a class="headerlink" href="#verify-the-new-repository-is-healthy-using-nox" title="Permanent link">¤</a></h3>
<p>If you prefer to keep your virtual environment cleaner and avoid installing
development dependencies, you can also use <code>nox</code> to create isolated
environments:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>dev-noxfile<span class="o">]</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>nox<span class="w"> </span>--install-only<span class="w">  </span><span class="c1"># Set up virtual environments once</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>nox<span class="w"> </span>-R<span class="w">  </span><span class="c1"># Run linting and testing reusing the existing virtual environments</span>
</span></code></pre></div>
<p>This will only install your package in <em>editable</em> mode and the minimum
dependencies required to run <code>nox</code>. It will then run all <code>nox</code> default
sessions, which include running linters and tests.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It's much faster to use <code>nox</code> with <code>--install-only</code> once (each time you
change or update dependencies, you need to run it again) and then use <code>nox
-R</code> to run the sessions without recreating the virtual environments.</p>
<p>Otherwise, <code>nox</code> will create many virtual environments each time you run
it, which is <strong>very</strong> slow.</p>
</div>
<h3 id="configure-the-release-notes-check-github-workflow">Configure the release notes check GitHub workflow<a class="headerlink" href="#configure-the-release-notes-check-github-workflow" title="Permanent link">¤</a></h3>
<p>By default a workflow to check if the release notes were updated is
included. This workflow will check PRs to see if a change was done in the
<code>src/</code> directory, and if so, it will fail if the <code>RELEASE_NOTES.md</code> wasn't also
updated.</p>
<p>But this check will not be enforced unless some extra configuration is done. To
enforce the check for PRs to be merged you need to go to the <em>GitHub repository
-&gt; Settings -&gt; Branches</em> and select the rule for the branch you want to protect.</p>
<p>Then in the rules search for the <em>Require status checks to pass before merging</em>
checkbox and search for <em>"Check release notes are updated"</em> in the search box.</p>
<p>As sometimes it is OK for PRs not to have release notes, as maybe some changes
don't impact the end user, this workflow can be overridden by assigning the
label <code>cmd:skip-release-notes</code> to the PR. To be able to do this, you also need
to add that label to the repository.</p>
<p>You can do this from the GitHub web interface, or using one of the following
commands:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">repo</span><span class="o">=</span>...<span class="w">  </span><span class="c1"># org/repo</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nv">token</span><span class="o">=</span>...<span class="w"> </span><span class="c1"># GitHub token with the correct permissions</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;cmd:skip-release-notes&quot;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nv">desc</span><span class="o">=</span><span class="s2">&quot;It is not necessary to update release notes for this PR&quot;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nv">color</span><span class="o">=</span><span class="s2">&quot;930F79&quot;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="c1"># Using cURL</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>curl<span class="w"> </span>-L<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span>-H<span class="w"> </span><span class="s2">&quot;Accept: application/vnd.github+json&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer </span><span class="nv">$token</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span>-H<span class="w"> </span><span class="s2">&quot;X-GitHub-Api-Version: 2022-11-28&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;name&quot;:&quot;&#39;</span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="s1">&#39;&quot;,&quot;description&quot;:&quot;&#39;</span><span class="s2">&quot;</span><span class="nv">$desc</span><span class="s2">&quot;</span><span class="s1">&#39;&quot;,&quot;color&quot;:&quot;&#39;</span><span class="s2">&quot;</span><span class="nv">$color</span><span class="s2">&quot;</span><span class="s1">&#39;&quot;}&#39;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="s2">&quot;https://api.github.com/repos/</span><span class="nv">$repo</span><span class="s2">/labels&quot;</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="c1"># Using the gh tool (no need for a token if you already have it configured)</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>gh<span class="w"> </span>api<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">    </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$desc</span><span class="s2">&quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">color</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$color</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">    </span><span class="s2">&quot;repos/</span><span class="nv">$repo</span><span class="s2">/labels&quot;</span>
</span></code></pre></div>
<h3 id="verify-the-generated-documentation-works">Verify the generated documentation works<a class="headerlink" href="#verify-the-generated-documentation-works" title="Permanent link">¤</a></h3>
<p>To generate the documentation, you can use <code>mkdocs</code>:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pip<span class="w"> </span>install<span class="w"> </span>.<span class="o">[</span>dev-mkdocs<span class="o">]</span><span class="w">  </span><span class="c1"># Not necessary if you already installed .[dev]</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>mkdocs<span class="w"> </span>serve
</span></code></pre></div>
<p>If the command fails, look at the log warnings and errors and fix them. If it
worked, now there is a local web server serving the documentation. You can
point your browser to <a href="http://127.0.0.1:8000">http://127.0.0.1:8000</a> to have
a look.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For API projects, <code>docker</code> is needed to generate and serve documentation,
as the easiest way to use the <a href="https://github.com/pseudomuto/protoc-gen-doc">tool to generate the documentation from
<code>.proto</code> files</a> is using
<code>docker</code>.</p>
</div>
<h3 id="initialize-the-github-pages-website">Initialize the GitHub Pages website<a class="headerlink" href="#initialize-the-github-pages-website" title="Permanent link">¤</a></h3>
<p>The generated documentation can be easily published via GitHub Pages, and it
will be automatically updated for new pushes and releases. However, some
initial setup is needed for it to work correctly:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>dev-mkdocs<span class="o">]</span><span class="w">  </span><span class="c1"># Not necessary if you already installed .[dev]</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>mike<span class="w"> </span>deploy<span class="w"> </span>--update-aliases<span class="w"> </span>next<span class="w"> </span>latest<span class="w">  </span><span class="c1"># Creates the branch gh-pages locally</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>mike<span class="w"> </span>set-default<span class="w"> </span>latest<span class="w">  </span><span class="c1"># Makes the latest alias the default version</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>git<span class="w"> </span>push<span class="w"> </span>upstream<span class="w"> </span>gh-pages<span class="w">  </span><span class="c1"># Pushes the new branch upstream to publish the website</span>
</span></code></pre></div>
<p>Then make sure that GitHub Pages is enabled in
<code>https://github.com/&lt;repo-owner&gt;/&lt;repo-name&gt;/settings/pages</code>.</p>
<p>If all went well, your website should be available soon via
<code>https://&lt;repo-owner&gt;.github.io/&lt;repo-name&gt;/</code>.</p>
<h4 id="website-versions-using-mike">Website versions using Mike<a class="headerlink" href="#website-versions-using-mike" title="Permanent link">¤</a></h4>
<p>The above commands create a new documentation version using
<a href="https://pypi.org/project/mike/">Mike</a>, which is used to keep multiple versions
of the website.</p>
<p>The new documentation version is called <code>next</code>, which is used as the name for
the currently in-development branch. The <code>next</code> branch has an alias called
<code>latest</code>, which is set as the <em>default</em>.</p>
<p>If the website is visited without specifying an explicit version, the <code>latest</code>
version will be displayed. It is recommended to point <code>latest</code> to the latest
stable version instead of the currently in-devepoment version, so as soon as
you make a release, you should update the alias.</p>
<h4 id="auto-generation-of-pages-via-github-actions">Auto-generation of pages via GitHub Actions<a class="headerlink" href="#auto-generation-of-pages-via-github-actions" title="Permanent link">¤</a></h4>
<p>New versions of the documentation will be automatically generated and published
via GitHub Actions on any push.</p>
<p>If a push is to a branch with semver-like format (vX.Y.Z), then the generated
version will replace the current <code>next</code> version.</p>
<p>If a tag is pushed instead, then the generated version will replace the current
<code>vX.Y</code> version (if there was any), and the aliases <code>vX</code> and <code>latest</code> will be
updated to point to the new version.</p>
<p>To summarize, we don't create versions for patch releases, only for minor
versions, and we have an alias to point to the latest version of a major
version too.</p>
<h2 id="migrate-an-existing-project">Migrate an existing project<a class="headerlink" href="#migrate-an-existing-project" title="Permanent link">¤</a></h2>
<p>The easiest way to migrate an existing project is to generate a new one based
on the current project metadata and then overwrite the existing files.</p>
<p>It is recommended to commit all changes before doing this, so you can then use
<code>git</code> to look at the changes.</p>
<p>If you generate the new repo in a temporary directory, you can easily overwrite
the files in your existing project by using <code>rsync</code> or similar tools:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nb">cd</span><span class="w"> </span>/tmp
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>cookiecutter<span class="w"> </span>gh:frequenz-floss/frequenz-repo-config-python<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span>--directory<span class="o">=</span>cookiecutter<span class="w"> </span>--checkout<span class="w"> </span>v0.5.1
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>rsync<span class="w"> </span>-vr<span class="w"> </span>--exclude<span class="o">=</span>.git/<span class="w"> </span>new-project/<span class="w"> </span>/path/to/existing/project
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="nb">cd</span><span class="w"> </span>/path/to/existing/project
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>git<span class="w"> </span>diff
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1"># Fix all the `TODO`s and clean up the generated files</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>git<span class="w"> </span>commit<span class="w"> </span>-a
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The trailing slash in <code>new-project/</code> and the lack of it in
<code>/path/to/existing/project</code> are meaningful to <code>rsync</code>.</p>
<p>Also, make sure to <strong>exclude</strong> the <code>.git/</code> directory to avoid messing up
with your local Git repository.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please have a look at the follow-up steps listed in the <a href="#create-the-local-development-environment">Start a new
project</a> section to finish the
setup.</p>
</div>
<h2 id="update-an-existing-project">Update an existing project<a class="headerlink" href="#update-an-existing-project" title="Permanent link">¤</a></h2>
<p>To update an existing project, you can use the <a href="https://cookiecutter.readthedocs.io/en/stable/advanced/replay.html">Cookiecutter <em>replay
file</em></a> that
was saved during the project generation. The file is saved as
<code>.cookiecutter-replay.json</code>. Using this file, you can re-run <a href="https://cookiecutter.readthedocs.io/en/stable">Cookiecutter</a>
without having to enter all the inputs again.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>Don't forget to commit all changes in your repository before doing this!
  Files will be overwritten!</li>
<li>Don't forget to check all the <a href="https://github.com/frequenz-floss/frequenz-repo-config-python/releases">release
  notes</a>
  for all the versions you are going to update, in particular the
  <strong>Upgrading</strong> section, as there might be steps necessary before even
  running the <code>cookiecutter</code> command for the update.</li>
</ul>
</div>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>git<span class="w"> </span>commit<span class="w"> </span>-a<span class="w">  </span><span class="c1"># commit all changes</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nb">cd</span><span class="w"> </span>..
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>cookiecutter<span class="w"> </span>gh:frequenz-floss/frequenz-repo-config-python<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span>--directory<span class="o">=</span>cookiecutter<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span>--checkout<span class="w"> </span>v0.5.1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span>--overwrite-if-exists<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span>--replay<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span>--replay-file<span class="w"> </span>project-directory/.cookiecutter-replay.json
</span></code></pre></div>
<p>This will create a new commit with all the changes to the overwritten files.
Bear in mind that all the <code>TODO</code>s will come back, so there will be quite a bit
of cleanup to do. You can easily check what was changed using <code>git show</code>, and
you can use <code>git commit --amend</code> to amend the previous commit with the template
updates, or create a new commit with the fixes. You can also use <code>git citool</code>
or <code>git gui</code> to easily add, remove, or even discard (revert) changes in the
templates update commit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>project-directory</code> is the directory of your previously generated
project. If you renamed it, then the files will be generated in a new
directory with the original name. You can update the target directory in
the replay file.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please remember to keep your replay file up to date if you change any
metadata in the project.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please have a look at the follow-up steps listed in the <a href="#create-the-local-development-environment">Start a new
project</a> section to finish the
setup.</p>
</div>
<h2 id="advanced-usage">Advanced usage<a class="headerlink" href="#advanced-usage" title="Permanent link">¤</a></h2>
<p>The <a href="https://cookiecutter.readthedocs.io/en/stable">Cookiecutter</a> template uses some tools provided as a library by this
project.</p>
<p>Usually, users don't need to deal with it directly, but if your project needs
some extra customization (like disabling <code>nox</code> sessions or adding new ones, or
using different CLI options for some tools), then you'll need to.</p>
<p>You can find information about the extra features in the <a href="reference/frequenz/repo/config/">API
reference</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2023 Frequenz Energy-as-a-Service GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/frequenz-floss" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/frequenz-com" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["content.code.annotate", "content.code.copy", "navigation.instant", "navigation.tabs", "navigation.top", "navigation.tracking", "toc.follow"], "search": "assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>